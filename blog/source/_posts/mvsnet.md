---
title: 三维重建
date: 2025-12-17 17:25:59
tags: 三维重建
description: 三维重建
---
# mvsnet
## 简介
MVS是一种从具有一定重叠度的多视图视角中恢复场景的稠密结构的技术。传统方法利用集合、光学与执行构造匹配代价，进行匹配代价积累，再估计深度值。虽然传统方法有较高的深度估计精度，但由于存在缺少纹理或者光照条件剧烈变化的场景中存在错误匹配。传统方法的深度估计完整度还有很大的提升空间。
## 框架

Mvsnet是一种监督学习的方法，以一个参考影响和多张原始影响为输入，而得到参考影响深度图的一种端到端的深度学习框架。网络首先提取图像的深度特征，然后通过可微分单应变换构造3D的代价体，再通过1正则化输出一个3D的概率体，沿深度方向求取深度期望，获得参考影响的深度图。
![](https://raw.githubusercontent.com/ciquningzuowu/picgo/main/20251206224649637.png)
## 基于深度学习的深度估计原理

按照框架，其估计步骤如下：深度特征提取，构造匹配代价，代价累计，深度估计，深度图估计

### 1.深度特征提取
没什么好说的，cnn提取特征

### 2.构建代价匹配
- 首先确定一个参考图像，并在一个深度范围内均匀连续采样深度假设
- 用一个共享权重的2d CNN提取所有图像的特征矩阵
- 进行可微分单应变换，对每个源视图和每一个深度假设，根据相机内外参计算单应性矩阵$H_{sr}(d_i)$并使用得到的矩阵对源特征图进行几何变换，得到M个变换后的源特征图
- 在参考试图的每一个像素位置收集一组特征向量（参考图像的特征以及源特征图经过单应性变换后得到的在该像素点的特征），以该特征向量的方差作为该像素$p_r$在深度$d_i$的匹配代价。
- 将统合的代价体进行平滑处理（3dCNN在深、高、宽三个维度聚合上下文，输出为经过正则化后更稠密和平滑的概率体）
- 在参考图像的每一个像素位置对概率体进行soft Argmin（将代价值转换为概率权重，然后根据权重对深度假设进行加权平均）
### 3.后处理
- 上述为一张参考视图的流程，后续对对多张图作为参考视图输出多张深度图
- 通过融合算法（滤波，加权平衡等），将多张深度图融合到一个统一的坐标系下，得到一个全局一致、精确的点云或深度图
- 可通过泊松重建或德劳内三角化等算法